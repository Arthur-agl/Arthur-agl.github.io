<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/tailwind.css">
    <title>Time for a break!</title>
</head>

<body class="plano-de-fundo" id="dog-list">
    <div class="flex">
        <button id="generatedogbtn" class="border-black">generate doggo</button>
    </div>
    <div class="flex">
    </div>

    <!-- back to top especial -->
    <button id="btt" title="Go to top">up</button>

    <script src="./js/elevator.js"></script>
</body>

</html>

<style>
    .body {
        scroll-behavior: smooth;
    }

    .plano-de-fundo {
        background:
            radial-gradient(hsl(0, 100%, 27%) 4%, hsl(0, 100%, 18%) 9%, hsla(0, 100%, 20%, 0) 9%) 0 0,
            radial-gradient(hsl(0, 100%, 27%) 4%, hsl(0, 100%, 18%) 8%, hsla(0, 100%, 20%, 0) 10%) 50px 50px,
            radial-gradient(hsla(0, 100%, 30%, 0.8) 20%, hsla(0, 100%, 20%, 0)) 50px 0,
            radial-gradient(hsla(0, 100%, 30%, 0.8) 20%, hsla(0, 100%, 20%, 0)) 0 50px,
            radial-gradient(hsla(0, 100%, 20%, 1) 35%, hsla(0, 100%, 20%, 0) 60%) 50px 0,
            radial-gradient(hsla(0, 100%, 20%, 1) 35%, hsla(0, 100%, 20%, 0) 60%) 100px 50px,
            radial-gradient(hsla(0, 100%, 15%, 0.7), hsla(0, 100%, 20%, 0)) 0 0,
            radial-gradient(hsla(0, 100%, 15%, 0.7), hsla(0, 100%, 20%, 0)) 50px 50px,
            linear-gradient(45deg, hsla(0, 100%, 20%, 0) 49%, hsla(0, 100%, 0%, 1) 50%, hsla(0, 100%, 20%, 0) 70%) 0 0,
            linear-gradient(-45deg, hsla(0, 100%, 20%, 0) 49%, hsla(0, 100%, 0%, 1) 50%, hsla(0, 100%, 20%, 0) 70%) 0 0;
        background-color: #300;
        background-size: 100px 100px;
    }

    #btt {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Fixed/sticky position */
        bottom: 20px;
        /* Place the button at the bottom of the page */
        right: 30px;
        /* Place the button 30px from the right */
        z-index: 99;
        /* Make sure it does not overlap */
        border: none;
        /* Remove borders */
        outline: none;
        /* Remove outline */
        background-color: darkgreen;
        /* Set a background color */
        color: white;
        /* Text color */
        cursor: pointer;
        /* Add a mouse pointer on hover */
        padding: 15px;
        /* Some padding */
        border-radius: 10px;
        /* Rounded corners */
        font-size: 18px;
        /* Increase font size */
    }
</style>

<script>
    window.onload = function () {
        document.querySelector("#generatedogbtn").addEventListener('click', generateDog);

        let elevator = new Elevator({
            mainAudio: './js/elevator.mp3',
            endAudio: './js/ding.mp3',
            duration: 30000,
        });

        document.querySelector('#btt').addEventListener('click', function () {
            elevator.elevate();
        })
    }

    //I got lazy, so no JQuery
    function createElement2(htmlString) {
        let template = document.createElement('template');
        template.innerHTML = htmlString.trim();
        return template.content.firstChild;
    }

    function generateDog() {
        //Get two pictures of dawgs from Dog API
        fetch('https://dog.ceo/api/breed/shiba/images/random/2')
            .then(response => response.json())
            .then(data => {
                const { message, status } = data;
                console.log(data);
                if (status === 'success') {
                    let dogPanelSize1 = Math.floor(Math.random() * 3) + 6;
                    let dogPanelSize2 = 12 - dogPanelSize1;

                    let result = createElement2(`<div class="flex">
                                                    <img class="object-cover w-${dogPanelSize1}/12 h-64 my-3 ml-4 mr-2 rounded shadow-xl" src="${message[0]}">
                                                    <img class="object-cover w-${dogPanelSize2}/12 h-64 my-3 ml-2 mr-4 rounded shadow-xl" src="${message[1]}">
                                                </div>`.replace(/(\r\n|\n|\r)/gm, "")
                    );
                    document.querySelector('#dog-list').appendChild(result);
                }
            });
    }
</script>